<div class="avatar-wrap" [ngClass]="{
    'online': (chat.type === 'chat' && friendsService.getFriend(chat.chat.friendId).isOnline) ? true : false
  }">
  <img class="avatar" [src]="chat.img[chat.img.length-1] | img" alt="" />
</div>

<div class="chat-info">
  <div class="username">
    {{ chat.title }}
  </div>
  <div class="message-preview">
    <div class="message-preview-text">
      {{ chat.lastMessage?.text || 'No messages yet' }}
    </div>
    <div class="message-preview-time">
      {{ (chat.lastMessage?.editedAt | date: 'shortTime') || "" }}
    </div>
  </div>
</div>
@if (chat.unreadCount > 0) {
<div class="counter" style="transform: translate(-20%);">
  @if (chat.unreadCount > 999) {
  1k+
  } @else {
  {{ chat.unreadCount }}
  }
</div>
}